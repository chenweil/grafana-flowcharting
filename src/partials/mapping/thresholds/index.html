<div class="section gf-form-group" ng-if="['number', 'string'].indexOf(rule.data.type) !== -1">
    <h5 class="section-heading" ng-if="rule.data.invert">
      阈值 ( 0 : Ok > ... > {{rule.getColorsCount() - 1}} : Critical)
      <info-popover mode="right-normal"><span
          ng-bind-html="$GF.popover('根据值和方向(反转)定义状态。', 'THRESHOLDS')"></span>
      </info-popover>
    </h5>
    <h5 class="section-heading" ng-if="!rule.data.invert">
      阈值 ({{rule.getColorsCount() - 1}} : Critical > ... > 0 : Ok)
      <info-popover mode="right-normal"><span
          ng-bind-html="$GF.popover('根据值和方向(反转)定义状态。', 'THRESHOLDS')"></span>
      </info-popover>
    </h5>
    <table>
      <thead>
        <tr>
          <th>
            <label class="gf-form-label width-5" style="margin-right: 2px;">按钮</label>
          </th>
          <th>
            <label class="gf-form-label width-5" style="margin-right: 2px;">颜色
            </label>
          </th>
          <th>
            <label class="gf-form-label width-8" style="margin-right: 2px;"
              ng-if="rule.data.type === 'number'">数字
              <info-popover mode="right-normal">
                <span ng-bind-html="$GF.popover('当值合法或更高时应用颜色', 'THRESHOLDS')">
                </span>
              </info-popover>
            </label>
            <label class="gf-form-label width-8" style="margin-right: 2px;"
              ng-if="rule.data.type === 'string'">模型
              <info-popover mode="right-normal">
                <span ng-bind-html="$GF.popover('当模型为真时应用颜色', 'THRESHOLDS')">
                </span>
              </info-popover>
            </label>
          </th>
          <th>
            <label class="gf-form-label width-3" style="margin-right: 2px;">等级</label>
          </th>
        </tr>
      </thead>
      <tboddy>
        <tr ng-repeat="color in rule.getColors() track by $index">
          <td>
            <div class="gf-form">
              <label class="gf-form-label" style="margin-right: 4px;" ng-if="rule.getColorsCount() > 1">
                <i class="fa fa-w fa-remove pointer" bs-tooltip="'删除这个颜色'"
                  ng-click="rule.removeColor($index);editor.onRulesChange()"></i>
              </label>
              <label class="gf-form-label">
                <i class="fa fa-plus pointer" ng-click="rule.addColor($index)" style="margin-right: 2px;"
                  bs-tooltip="'添加一个新颜色'"></i>
              </label>
            </div>
          </td>
          <td>
            <div class="gf-form">
              <span class="gf-form-label" style="margin-right: 4px;">
                <color-picker color="rule.data.colors[$index]"
                  onChange="editor.onColorChange($parent.$index, $index)"></color-picker>
              </span>
              <label class="gf-form-label  width-2" style="margin-right: 4px;"
                ng-if="$index > 0 && rule.data.type === 'number'">
                <i class="fa fa-w fa-angle-right" bs-tooltip="'Upper than'"></i>
              </label>
              <label class="gf-form-label  width-2" style="margin-right: 4px;"
                ng-if="$index > 0 && rule.data.type === 'string'" bs-tooltip="'Like'">
                <B>~</B>
              </label>
            </div>
          </td>
          <td>
            <label class="gf-form-label width-8" style="margin-right: 2px;"
              ng-if="$index === 0 && rule.data.type === 'number'">Base
            </label>
            <label class="gf-form-label width-8" style="margin-right: 2px;"
              ng-if="$index === 0 && rule.data.type === 'string'">Default
            </label>
            <input ng-if="$index > 0 && rule.data.type === 'number'" type="number" class="gf-form-input width-8"
              ng-model="rule.data.thresholds[$index-1]" placeholder="value"
              bs-tooltip="'为应用颜色指定一个值，当值为常量或上界时'"
              ng-blur="editor.onRulesChange()" />
            <input ng-if="$index > 0 && rule.data.type === 'string'" type="text" class="gf-form-input width-8"
              ng-model="rule.data.stringThresholds[$index-1]" placeholder="pattern"
              bs-tooltip="'为应用颜色指定一个模式正则表达式'" ng-blur="editor.onRulesChange()" />
          </td>
          <td>
            <label class="gf-form-label width-3"
              style="margin-right: 2px;">{{ ! rule.data.invert ? rule.getColorsCount() - $index - 1 : $index}}
            </label>
          </td>
        </tr>
      </tboddy>
      <tfoot>
        <tr>
          <td colspan="3">
            <gf-form-switch class="gf-form" label="反转" label-class="width-8" checked="rule.data.invert"
              on-change="rule.invertColorOrder();editor.onRulesChange()" tooltip="反转电平状态和颜色">
            </gf-form-switch>
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <gf-form-switch class="gf-form" label="坡度" label-class="width-8" checked="rule.data.gradient"
              ng-if="rule.data.type === 'number'" on-change="editor.onRulesChange()"
              tooltip="根据数值应用渐变颜色">
            </gf-form-switch>
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <gf-form-switch class="gf-form" label="图标状态" label-class="width-8"
              checked="rule.data.overlayIcon" on-change="editor.onRulesChange()"
              tooltip="状态时显示警告图标 > 0">
            </gf-form-switch>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>